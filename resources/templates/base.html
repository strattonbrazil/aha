<!DOCTYPE html>
<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Welcome to aha</title>

    <script type="text/html" id="header-template">
      <div class="row">
        <div class="columns-12 large">

        </div>
      </div>
    </script>
  </head>
  <body>
    {% if user %}
    <div class="login-notice">
      Logged in as "{{ user }}" (<a href="/logout">logout</a>)
    </div>
    {% endif %}

    <div class="row">
      <div class="columns-12 large">
        <div class="home-header {% if user %}right-click-edit{% endif %}">
          <h1 id="header" data-bind="text: header().text"></h1>
        </div>        
      </div>
    </div>

    <nav class="top-bar" data-topbar role="navigation">
      <ul class="title-area">
        <li class="name">
          <h1><a href="#">Aha!</a></h1>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
      </ul>
      
      <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
          <li class="active"><a href="#">Right Button Active</a></li>
          <li class="has-dropdown">
            <a href="#">Right Button Dropdown</a>
            <ul class="dropdown">
              <li><a href="#">First link in dropdown</a></li>
              <li class="active"><a href="#">Active link in dropdown</a></li>
            </ul>
          </li>
        </ul>
        
        <!-- Left Nav Section -->
        <ul class="left">
          <li><a href="#">Left Nav Button</a></li>
        </ul>
      </section>
    </nav>

    <div class="row">
      <div class="columns-12 large">
        <div data-bind="foreach: layoutItems">          
          {% if user %}
          <div data-bind="if: $index() == 0">
            <div data-bind="template: { name: 'add-widget-template', data: { index: $index(), callback: $parent.addWidget } }"></div>
          </div>
          {% endif %}

          <div data-bind="if: type == 'header'">
            <div data-bind="template: { name: 'header-template' }"></div>
          </div>
          {% if user %}
          <div data-bind="template: { name: 'add-widget-template', data: { index: $index()+1, callback: $parent.addWidget } }"></div>
          {% endif %}
        </div>
      </div>
    </div>



    
    <div class="row">
      <div class="columns-12 large">
        {% block content %}
        {% endblock %}
      </div>
    </div>

    <div class="row">
      <div class="columns-12 large copyright">
        &copy - AhaCMS! - 2014
      </div>
    </div>

    <!-- scripts and styles -->
    {% style "/libs/foundation-5.5.0/css/foundation.min.css" %}
    {% style "/libs/jquery-contextMenu/jquery.contextMenu.css" %}
    {% style "/libs/jquery-ui-1.11.2/jquery-ui.css" %}
    {% style "/css/screen.css" %}


    {% script "/libs/foundation-5.5.0/js/vendor/modernizr.js" %}
    {% script "/libs/foundation-5.5.0/js/vendor/jquery.js" %}
    {% script "/libs/foundation-5.5.0/js/vendor/fastclick.js" %}
    {% script "/libs/foundation-5.5.0/js/foundation.min.js" %}
    {% script "/libs/jquery-contextMenu/jquery.contextMenu.js" %}
    {% script "/libs/jquery-ui-1.11.2/jquery-ui.js" %}
    {% script "/libs/knockout-3.2.0/knockout-3.2.0.js" %}
    {% script "/js/main.js" %}

    <script type="text/javascript">
      var context = "{{servlet-context}}";
      $(document).foundation();
    </script>
    {% block page-scripts %}
    {% endblock %}
  </body>
</html>

